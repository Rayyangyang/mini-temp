var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,i)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__spreadValues=(t,e)=>{for(var i in e||(e={}))__hasOwnProp.call(e,i)&&__defNormalProp(t,i,e[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(e))__propIsEnum.call(e,i)&&__defNormalProp(t,i,e[i]);return t};if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){const e=this.constructor;return this.then((i=>e.resolve(t()).then((()=>i))),(i=>e.resolve(t()).then((()=>{throw i}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const t=uni.requireGlobal();ArrayBuffer=t.ArrayBuffer,Int8Array=t.Int8Array,Uint8Array=t.Uint8Array,Uint8ClampedArray=t.Uint8ClampedArray,Int16Array=t.Int16Array,Uint16Array=t.Uint16Array,Int32Array=t.Int32Array,Uint32Array=t.Uint32Array,Float32Array=t.Float32Array,Float64Array=t.Float64Array,BigInt64Array=t.BigInt64Array,BigUint64Array=t.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(t,e){"use strict";function i(t){return weex.requireModule(t)}function n(t,e,...i){uni.__log__?uni.__log__(t,e,...i):console[t].apply(console,[...i,e])}function s(t,i){return e.isString(t)?i:t}const a=e=>(i,n=t.getCurrentInstance())=>{!t.isInSSRComponentSetup&&t.injectHook(e,i,n)},o=a("onShow"),r=a("onHide"),h=a("onLaunch"),c=a("onLoad"),l=a("onReachBottom");var u=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i};const d=50;var p=u({name:"app-cropper",data:()=>({csH:"0px",sD:"none",sT:"-10000px",pT:"-10000px",iS:{},sS:{},sO:!0,bW:"19%",bD:"flex",tp:0,imgSrc:{imgSrc:""}}),watch:{avatarSrc(){this.imgSrc.imgSrc=this.avatarSrc}},props:{avatarSrc:"",avatarStyle:"",selWidth:"",selHeight:"",expWidth:"",expHeight:"",minScale:"",maxScale:"",canScale:"",canRotate:"",lockWidth:"",lockHeight:"",stretch:"",lock:"",fileType:"",noTab:"",inner:"",quality:"",index:"",bgImage:""},created(){this.cc=uni.createCanvasContext("avatar-canvas",this),this.cco=uni.createCanvasContext("oper-canvas",this),this.ccp=uni.createCanvasContext("prv-canvas",this),this.qlty=parseFloat(this.quality)||1,this.imgSrc.imgSrc=this.avatarSrc,this.letRotate=!1===this.canRotate||!0===this.inner||"true"===this.inner||"false"===this.canRotate?0:1,this.letScale=!1===this.canScale||"false"===this.canScale?0:1,this.isin=!0===this.inner||"true"===this.inner?1:0,this.indx=this.index||void 0,this.mnScale=parseFloat(this.minScale)||.3,this.mxScale=parseFloat(this.maxScale)||4,this.noBar=!0===this.noTab||"true"===this.noTab?1:0,this.stc=this.stretch,this.lck=this.lock,this.fType="jpg"===this.fileType?"jpg":"png",this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),this.noBar?this.fWindowResize():uni.showTabBar({fail:()=>{this.noBar=1},success:()=>{this.noBar=0},complete:t=>{this.fWindowResize()}})},methods:{fWindowResize(){let t=uni.getSystemInfoSync();this.platform=t.platform,this.wW=t.windowWidth,this.drawTop=0,this.wH=t.windowHeight,this.noBar||(this.wH+=d),this.csH=this.wH-d+"px",this.tp=this.csH,this.pxRatio=this.wW/750;let e=this.avatarStyle;if(e&&!0!==e&&(e=e.trim())){e=e.split(";");let t={};for(let i of e)if(i){if(i=i.trim().split(":"),i[1].toString().indexOf("rpx")>=0){let t=i[1].trim().split(" ");for(let e in t)t[e]&&t[e].toString().indexOf("rpx")>=0&&(t[e]=parseFloat(t[e])*this.pxRatio+"px");i[1]=t.join(" ")}t[i[0].trim()]=i[1].trim()}this.iS=t}this.expWidth&&(this.eW=this.expWidth.toString().indexOf("rpx")>=0?parseInt(this.expWidth)*this.pxRatio:parseInt(this.expWidth)),this.expHeight&&(this.eH=this.expHeight.toString().indexOf("rpx")>=0?parseInt(this.expHeight)*this.pxRatio:parseInt(this.expHeight)),"flex"===this.sD&&this.fDrawInit(!0),this.fHideImg()},fSelect(){this.fSelecting||(this.fSelecting=!0,setTimeout((()=>{this.fSelecting=!1}),500),uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:t=>{uni.showLoading({title:"加载中...",mask:!0});let e=this.imgPath=t.tempFilePaths[0];uni.getImageInfo({src:e,success:t=>{if(this.imgWidth=t.width,this.imgHeight=t.height,this.path=e,!this.hasSel){let t=this.sS||{};if(!this.selWidth||!this.selHeight)return void uni.showModal({title:"裁剪框的宽或高没有设置",showCancel:!1});{let e=this.selWidth.toString().indexOf("rpx")>=0?parseInt(this.selWidth)*this.pxRatio:parseInt(this.selWidth),i=this.selHeight.toString().indexOf("rpx")>=0?parseInt(this.selHeight)*this.pxRatio:parseInt(this.selHeight);t.width=e+"px",t.height=i+"px",t.top=(this.wH-i-d|0)/2+"px",t.left=(this.wW-e|0)/2+"px"}this.sS=t}this.noBar?this.fDrawInit(!0):uni.hideTabBar({complete:()=>{this.fDrawInit(!0)}})},fail:()=>{uni.showToast({title:"请选择正确图片",duration:2e3})},complete(){uni.hideLoading()}})}}))},fUpload(){if(this.fUploading)return;this.fUploading=!0,setTimeout((()=>{this.fUploading=!1}),1e3);let t=this.sS,e=parseInt(t.left),i=parseInt(t.top),n=parseInt(t.width),s=parseInt(t.height),a=this.eW||n*this.pixelRatio,o=this.eH||s*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:e,y:i,width:n,height:s,destWidth:a,destHeight:o,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:t=>{t=t.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:t,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:t=>{uni.showToast({title:"error1",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fPrvUpload(){if(this.fPrvUploading)return;this.fPrvUploading=!0,setTimeout((()=>{this.fPrvUploading=!1}),1e3);let t=this.sS;parseInt(t.width),parseInt(t.height);let e=this.prvX,i=this.prvY,n=this.prvWidth,s=this.prvHeight,a=this.eW||parseInt(t.width)*this.pixelRatio,o=this.eH||parseInt(t.height)*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:e,y:i,width:n,height:s,destWidth:a,destHeight:o,canvasId:"prv-canvas",fileType:this.fType,quality:this.qlty,success:t=>{t=t.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:t,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:()=>{uni.showToast({title:"error_prv",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fDrawInit(t=!1){let e=this.wW,i=this.wH,n=this.imgWidth,s=this.imgHeight,a=n/s,o=e-40,r=i-d-80,h=o/r,c=parseInt(this.sS.width),l=parseInt(this.sS.height);switch(this.fixWidth=0,this.fixHeight=0,this.lckWidth=0,this.lckHeight=0,this.stc){case"x":this.fixWidth=1;break;case"y":this.fixHeight=1;break;case"long":a>1?this.fixWidth=1:this.fixHeight=1;break;case"short":a>1?this.fixHeight=1:this.fixWidth=1;break;case"longSel":c>l?this.fixWidth=1:this.fixHeight=1;break;case"shortSel":c>l?this.fixHeight=1:this.fixWidth=1}switch(this.lck){case"x":this.lckWidth=1;break;case"y":this.lckHeight=1;break;case"long":a>1?this.lckWidth=1:this.lckHeight=1;break;case"short":a>1?this.lckHeight=1:this.lckWidth=1;break;case"longSel":c>l?this.lckWidth=1:this.lckHeight=1;break;case"shortSel":c>l?this.lckHeight=1:this.lckWidth=1}this.fixWidth?(o=c,r=o/a):this.fixHeight?(r=l,o=r*a):a<h?s<r?(o=n,r=s):o=r*a:n<o?(o=n,r=s):r=o/a,this.isin&&(o<c&&(o=c,r=o/a,this.lckHeight=0),r<l&&(r=l,o=r*a,this.lckWidth=0)),this.scaleSize=1,this.rotateDeg=0,this.posWidth=(e-o)/2|0,this.posHeight=(i-r-d)/2|0,this.useWidth=0|o,this.useHeight=0|r,this.centerX=this.posWidth+o/2,this.centerY=this.posHeight+r/2,this.focusX=0,this.focusY=0;let u=this.sS,p=parseInt(u.left),f=parseInt(u.top),g=parseInt(u.width),m=parseInt(u.height);this.canvas,this.canvasOper,this.cc;let y=this.cco;y.beginPath(),y.setLineWidth(3),y.setGlobalAlpha(1),y.setStrokeStyle("white"),y.strokeRect(p,f,g,m),y.setFillStyle("black"),y.setGlobalAlpha(.5),y.fillRect(0,0,this.wW,f),y.fillRect(0,f,p,m),y.fillRect(0,f+m,this.wW,this.wH-m-f-d),y.fillRect(p+g,f,this.wW-g-p,m),y.setGlobalAlpha(1),y.setStrokeStyle("red"),y.moveTo(p+15,f),y.lineTo(p,f),y.lineTo(p,f+15),y.moveTo(p+g-15,f),y.lineTo(p+g,f),y.lineTo(p+g,f+15),y.moveTo(p+15,f+m),y.lineTo(p,f+m),y.lineTo(p,f+m-15),y.moveTo(p+g-15,f+m),y.lineTo(p+g,f+m),y.lineTo(p+g,f+m-15),y.stroke(),y.draw(!1,(()=>{t&&(this.sD="flex",this.sT=this.drawTop+"px",this.fDrawImage(!0))})),this.$emit("init")},fDrawImage(t=!1){let e=Date.now();if(e-this.drawTm<20)return;this.drawTm=e;let i=this.cc,n=this.useWidth*this.scaleSize,s=this.useHeight*this.scaleSize;if(this.bgImage?i.drawImage(this.bgImage,0,0,this.wW,this.wH-d):i.fillRect(0,0,this.wW,this.wH-d),this.isin){let t=this.focusX*(this.scaleSize-1),e=this.focusY*(this.scaleSize-1);i.translate(this.centerX,this.centerY),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,this.posWidth-this.centerX-t,this.posHeight-this.centerY-e,n,s)}else i.translate(this.posWidth+n/2,this.posHeight+s/2),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,-n/2,-s/2,n,s);i.draw(!1)},fPreview(){if(this.fPreviewing)return;this.fPreviewing=!0,setTimeout((()=>{this.fPreviewing=!1}),1e3);let t=this.sS,e=parseInt(t.left),i=parseInt(t.top),n=parseInt(t.width),s=parseInt(t.height);uni.showLoading({title:"加载中...",mask:!0}),uni.canvasToTempFilePath({x:e,y:i,width:n,height:s,expWidth:n*this.pixelRatio,expHeight:s*this.pixelRatio,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:t=>{this.prvImgTmp=t=t.tempFilePath;let e=this.ccp,i=this.wW,n=parseInt(this.csH);"android"===this.platform&&(n+=d);let s=parseInt(this.sS.width),a=parseInt(this.sS.height),o=i-40,r=n-80,h=o/s,c=a*h;c<r?(s=o,a=c):(h=r/a,s*=h,a=r),e.fillRect(0,0,i,n),this.prvX=i=(i-s)/2|0,this.prvY=n=(n-a)/2|0,this.prvWidth=s|=0,this.prvHeight=a|=0,e.drawImage(t,i,n,s,a),e.draw(!1),this.sO=!1,this.pT=this.drawTop+"px"},fail:()=>{uni.showToast({title:"error2",duration:2e3})},complete:()=>{uni.hideLoading()}},this)},fChooseImg(t,e,i){if(e){let t=e.selWidth,i=e.selHeight,n=e.expWidth,s=e.expHeight,a=e.quality,o=e.canRotate,r=e.canScale,h=e.minScale,c=e.maxScale,l=e.stretch,u=e.fileType,p=e.inner,f=e.lock;n&&(this.eW=n.toString().indexOf("rpx")>=0?parseInt(n)*this.pxRatio:parseInt(n)),s&&(this.eH=s.toString().indexOf("rpx")>=0?parseInt(s)*this.pxRatio:parseInt(s)),this.letRotate=!1===o||!0===p||"true"===p||"false"===o?0:1,this.letScale=!1===r||"false"===r?0:1,this.qlty=parseFloat(a)||1,this.mnScale=parseFloat(h)||.3,this.mxScale=parseFloat(c)||4,this.stc=l,this.isin=!0===p||"true"===p?1:0,this.fType="jpg"===u?"jpg":"png",this.lck=f,this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),t&&i&&(t=t.toString().indexOf("rpx")>=0?parseInt(t)*this.pxRatio:parseInt(t),i=i.toString().indexOf("rpx")>=0?parseInt(i)*this.pxRatio:parseInt(i),this.sS.width=t+"px",this.sS.height=i+"px",this.sS.top=(this.wH-i-d|0)/2+"px",this.sS.left=(this.wW-t|0)/2+"px",this.hasSel=!0)}this.rtn=i,this.indx=t,this.fSelect()},fRotate(){this.rotateDeg+=90-this.rotateDeg%90,this.fDrawImage()},fStart(t){let e=t.touches,i=e[0],n=e[1];if(this.touch0=i,this.touch1=n,n){let t=n.x-i.x,e=n.y-i.y;this.fgDistance=Math.sqrt(t*t+e*e)}},fMove(t){let e=t.touches,i=e[0],n=e[1];if(n){let t=n.x-i.x,e=n.y-i.y,s=Math.sqrt(t*t+e*e),a=.005*(s-this.fgDistance),o=this.scaleSize+a;do{if(!this.letScale)break;if(o<this.mnScale)break;if(o>this.mxScale)break;let t=this.useWidth*a/2,e=this.useHeight*a/2;if(this.isin){let i=this.useWidth*o,n=this.useHeight*o;this.posWidth,this.posHeight;let s,a,r=parseInt(this.sS.left),h=parseInt(this.sS.top),c=parseInt(this.sS.width),l=parseInt(this.sS.height),u=r+c,d=h+l;if(i<=c||n<=l)break;this.cx=s=this.focusX*o-this.focusX,this.cy=a=this.focusY*o-this.focusY,this.posWidth-=t,this.posHeight-=e,this.posWidth-s>r&&(this.posWidth=r+s),this.posWidth+i-s<u&&(this.posWidth=u-i+s),this.posHeight-a>h&&(this.posHeight=h+a),this.posHeight+n-a<d&&(this.posHeight=d-n+a)}else this.posWidth-=t,this.posHeight-=e;this.scaleSize=o}while(0);this.fgDistance=s,n.x!==i.x&&this.letRotate&&(t=(this.touch1.y-this.touch0.y)/(this.touch1.x-this.touch0.x),e=(n.y-i.y)/(n.x-i.x),this.rotateDeg+=180*Math.atan((e-t)/(1+t*e))/Math.PI,this.touch0=i,this.touch1=n),this.fDrawImage()}else if(this.touch0){let t=i.x-this.touch0.x,e=i.y-this.touch0.y,n=this.posWidth+t,s=this.posHeight+e;if(this.isin){let i,a,o=this.useWidth*this.scaleSize,r=this.useHeight*this.scaleSize,h=n,c=s,l=h+o,u=c+r,d=parseInt(this.sS.left),p=parseInt(this.sS.top),f=d+parseInt(this.sS.width),g=p+parseInt(this.sS.height);this.cx=i=this.focusX*this.scaleSize-this.focusX,this.cy=a=this.focusY*this.scaleSize-this.focusY,!this.lckWidth&&Math.abs(t)<100&&(d<h-i?this.posWidth=d+i:f>l-i?this.posWidth=f-o+i:(this.posWidth=n,this.focusX-=t)),!this.lckHeight&&Math.abs(e)<100&&(p<c-a?(this.focusY-=p+a-this.posHeight,this.posHeight=p+a):g>u-a?(this.focusY-=g+a-(this.posHeight+r),this.posHeight=g-r+a):(this.posHeight=s,this.focusY-=e))}else Math.abs(t)<100&&!this.lckWidth&&(this.posWidth=n),Math.abs(e)<100&&!this.lckHeight&&(this.posHeight=s),this.focusX-=t,this.focusY-=e;this.touch0=i,this.fDrawImage()}},fEnd(t){let e=t.touches,i=e&&e[0];e&&e[1],i?this.touch0=i:(this.touch0=null,this.touch1=null)},fHideImg(){this.prvImg="",this.pT="-10000px",this.sO=!0,this.prvImgData=null,this.target=null},fClose(){this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),this.noBar||uni.showTabBar(),this.$emit("end")},fGetImgData(){return new Promise(((t,e)=>{let i=this.prvX,n=this.prvY,s=this.prvWidth,a=this.prvHeight;uni.canvasGetImageData({canvasId:"prv-canvas",x:i,y:n,width:s,height:a,success(e){t(e.data)},fail(t){e(t)}},this)}))},async fColorChange(t){let e=Date.now();if(e-this.prvTm<100)return;if(this.prvTm=e,uni.showLoading({title:"加载中...",mask:!0}),!this.prvImgData){if(!(this.prvImgData=await this.fGetImgData().catch((()=>{uni.showToast({title:"error_read",duration:2e3})}))))return;this.target=new Uint8ClampedArray(this.prvImgData.length)}let i,n,s,a,o,r,h,c,l,u,d,p,f,g,m,y,v=this.prvImgData,w=this.target,S=t.detail.value;if(0===S)w=v;else{S=(S+100)/200,S<.005&&(S=0),S>.995&&(S=1);for(let t=v.length-1;t>=0;t-=4){if(i=v[t-3]/255,n=v[t-2]/255,s=v[t-1]/255,p=Math.max(i,n,s),d=Math.min(i,n,s),c=p-d,p===d?o=0:p===i&&n>=s?o=(n-s)/c*60:p===i&&n<s?o=(n-s)/c*60+360:p===n?o=(s-i)/c*60+120:p===s&&(o=(i-n)/c*60+240),h=(p+d)/2,0===h||p===d?r=0:0<h&&h<=.5?r=c/(2*h):h>.5&&(r=c/(2-2*h)),v[t]&&(a=v[t]),S<.5?r=r*S/.5:S>.5&&(r=2*r+2*S-r*S/.5-1),0===r)i=n=s=Math.round(255*h);else{h<.5?u=h*(1+r):h>=.5&&(u=h+r-h*r),l=2*h-u,f=o/360,g=f+1/3,m=f,y=f-1/3;let t=t=>t<0?t+1:t>1?t-1:t,e=t=>t<1/6?l+6*(u-l)*t:t>=1/6&&t<.5?u:t>=.5&&t<2/3?l+6*(u-l)*(2/3-t):l;i=g=Math.round(255*e(t(g))),n=m=Math.round(255*e(t(m))),s=y=Math.round(255*e(t(y)))}a&&(w[t]=a),w[t-3]=i,w[t-2]=n,w[t-1]=s}}let x=this.prvX,b=this.prvY,I=this.prvWidth,T=this.prvHeight;uni.canvasPutImageData({canvasId:"prv-canvas",x:x,y:b,width:I,height:T,data:w,fail(){uni.showToast({title:"error_put",duration:2e3})},complete(){uni.hideLoading()}},this)},btop(t){return this.base64=t,new Promise((function(e,i){for(var n=t.split(","),s=n[0].match(/:(.*?);/)[1],a=atob(n[1]),o=a.length,r=new Uint8Array(o);o--;)r[o]=a.charCodeAt(o);return e((window.URL||window.webkitURL).createObjectURL(new Blob([r],{type:s})))}))}}},[["render",function(e,i,n,s,a,o){return t.openBlock(),t.createElementBlock("view",null,[t.createElementVNode("image",{src:a.imgSrc.imgSrc,onClick:i[0]||(i[0]=(...t)=>o.fSelect&&o.fSelect(...t)),style:t.normalizeStyle([a.iS]),class:"my-avatar"},null,12,["src"]),t.createElementVNode("canvas",{"canvas-id":"avatar-canvas",id:"avatar-canvas",class:"my-canvas",style:t.normalizeStyle({top:a.sT,height:a.csH}),"disable-scroll":"false"},null,4),t.createElementVNode("canvas",{"canvas-id":"oper-canvas",id:"oper-canvas",class:"oper-canvas",style:t.normalizeStyle({top:a.sT,height:a.csH}),"disable-scroll":"false",onTouchstart:i[1]||(i[1]=(...t)=>o.fStart&&o.fStart(...t)),onTouchmove:i[2]||(i[2]=(...t)=>o.fMove&&o.fMove(...t)),onTouchend:i[3]||(i[3]=(...t)=>o.fEnd&&o.fEnd(...t))},null,36),t.createElementVNode("canvas",{"canvas-id":"prv-canvas",id:"prv-canvas",class:"prv-canvas","disable-scroll":"false",onTouchstart:i[4]||(i[4]=(...t)=>o.fHideImg&&o.fHideImg(...t)),style:t.normalizeStyle({height:a.csH,top:a.pT})},null,36),t.createElementVNode("view",{class:"oper-wrapper",style:t.normalizeStyle({display:a.sD})},[t.createElementVNode("view",{class:"oper"},[t.createElementVNode("view",{class:"btn-wrapper"},[t.createElementVNode("view",{onClick:i[5]||(i[5]=(...t)=>o.fSelect&&o.fSelect(...t)),"hover-class":"hover",style:t.normalizeStyle({width:a.bW})},[t.createElementVNode("text",null,"重选")],4),t.createElementVNode("view",{onClick:i[6]||(i[6]=(...t)=>o.fClose&&o.fClose(...t)),"hover-class":"hover",style:t.normalizeStyle({width:a.bW})},[t.createElementVNode("text",null,"关闭")],4),t.createElementVNode("view",{onClick:i[7]||(i[7]=(...t)=>o.fPreview&&o.fPreview(...t)),"hover-class":"hover",style:t.normalizeStyle({width:a.bW})},[t.createElementVNode("text",null,"预览")],4),t.createElementVNode("view",{onClick:i[8]||(i[8]=(...t)=>o.fUpload&&o.fUpload(...t)),"hover-class":"hover",style:t.normalizeStyle({width:a.bW})},[t.createElementVNode("text",null,"完成")],4)])])],4)])}],["__scopeId","data-v-4b5f163c"]]);const f=["{","}"];const g=/^(?:\d)+/,m=/^(?:\w)+/;const y="zh-Hans",v="zh-Hant",w="en",S=Object.prototype.hasOwnProperty,x=(t,e)=>S.call(t,e),b=new class{constructor(){this._caches=Object.create(null)}interpolate(t,e,i=f){if(!e)return[t];let n=this._caches[t];return n||(n=function(t,[e,i]){const n=[];let s=0,a="";for(;s<t.length;){let o=t[s++];if(o===e){a&&n.push({type:"text",value:a}),a="";let e="";for(o=t[s++];void 0!==o&&o!==i;)e+=o,o=t[s++];const r=o===i,h=g.test(e)?"list":r&&m.test(e)?"named":"unknown";n.push({value:e,type:h})}else a+=o}return a&&n.push({type:"text",value:a}),n}(t,i),this._caches[t]=n),function(t,e){const i=[];let n=0;const s=Array.isArray(e)?"list":(a=e,null!==a&&"object"==typeof a?"named":"unknown");var a;if("unknown"===s)return i;for(;n<t.length;){const a=t[n];switch(a.type){case"text":i.push(a.value);break;case"list":i.push(e[parseInt(a.value,10)]);break;case"named":"named"===s&&i.push(e[a.value])}n++}return i}(n,e)}};function I(t,e){if(!t)return;if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if("chinese"===(t=t.toLowerCase()))return y;if(0===t.indexOf("zh"))return t.indexOf("-hans")>-1?y:t.indexOf("-hant")>-1?v:(i=t,["-tw","-hk","-mo","-cht"].find((t=>-1!==i.indexOf(t)))?v:y);var i;const n=function(t,e){return e.find((e=>0===t.indexOf(e)))}(t,[w,"fr","es"]);return n||void 0}class T{constructor({locale:t,fallbackLocale:e,messages:i,watcher:n,formater:s}){this.locale=w,this.fallbackLocale=w,this.message={},this.messages={},this.watchers=[],e&&(this.fallbackLocale=e),this.formater=s||b,this.messages=i||{},this.setLocale(t||w),n&&this.watchLocale(n)}setLocale(t){const e=this.locale;this.locale=I(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],e!==this.locale&&this.watchers.forEach((t=>{t(this.locale,e)}))}getLocale(){return this.locale}watchLocale(t){const e=this.watchers.push(t)-1;return()=>{this.watchers.splice(e,1)}}add(t,e,i=!0){const n=this.messages[t];n?i?Object.assign(n,e):Object.keys(e).forEach((t=>{x(n,t)||(n[t]=e[t])})):this.messages[t]=e}f(t,e,i){return this.formater.interpolate(t,e,i).join("")}t(t,e,i){let n=this.message;return"string"==typeof e?(e=I(e,this.messages))&&(n=this.messages[e]):i=e,x(n,t)?this.formater.interpolate(n[t],i).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}var k={en:{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},"zh-Hans":{"uni-load-more.contentdown":"上拉显示更多","uni-load-more.contentrefresh":"正在加载...","uni-load-more.contentnomore":"没有更多数据了"},"zh-Hant":{"uni-load-more.contentdown":"上拉顯示更多","uni-load-more.contentrefresh":"正在加載...","uni-load-more.contentnomore":"沒有更多數據了"}};let A;setTimeout((()=>{A=uni.getSystemInfoSync().platform}),16);const{t:H}=function(t,e={},i,n){"string"!=typeof t&&([t,e]=[e,t]),"string"!=typeof t&&(t="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():w),"string"!=typeof i&&(i="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||w);const s=new T({locale:t,fallbackLocale:i,messages:e,watcher:n});let a=(t,e)=>{if("function"!=typeof getApp)a=function(t,e){return s.t(t,e)};else{let t=!1;a=function(e,i){const n=getApp().$vm;return n&&(n.$locale,t||(t=!0,function(t,e){t.$watchLocale?t.$watchLocale((t=>{e.setLocale(t)})):t.$watch((()=>t.$locale),(t=>{e.setLocale(t)}))}(n,s))),s.t(e,i)}}return a(t,e)};return{i18n:s,f:(t,e,i)=>s.f(t,e,i),t:(t,e)=>a(t,e),add:(t,e,i=!0)=>s.add(t,e,i),watch:t=>s.watchLocale(t),getLocale:()=>s.getLocale(),setLocale:t=>s.setLocale(t)}}(k);var D=u({name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:()=>({contentdown:"",contentrefresh:"",contentnomore:""})},showText:{type:Boolean,default:!0}},data:()=>({webviewHide:!1,platform:A,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZV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"}),computed:{iconSnowWidth(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText(){return this.contentText.contentdown||H("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||H("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||H("uni-load-more.contentnomore")}},mounted(){var t=getCurrentPages(),e=t[t.length-1].$getAppWebview();e.addEventListener("hide",(()=>{this.webviewHide=!0})),e.addEventListener("show",(()=>{this.webviewHide=!1}))},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}},[["render",function(e,i,n,s,a,o){return t.openBlock(),t.createElementBlock("view",{class:"uni-load-more",onClick:i[0]||(i[0]=(...t)=>o.onClick&&o.onClick(...t))},[!a.webviewHide&&("circle"===n.iconType||"auto"===n.iconType&&"android"===a.platform)&&"loading"===n.status&&n.showIcon?(t.openBlock(),t.createElementBlock("view",{key:0,style:t.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--android-MP"},[t.createElementVNode("view",{class:"uni-load-more__img-icon",style:t.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),t.createElementVNode("view",{class:"uni-load-more__img-icon",style:t.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),t.createElementVNode("view",{class:"uni-load-more__img-icon",style:t.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4)],4)):!a.webviewHide&&"loading"===n.status&&n.showIcon?(t.openBlock(),t.createElementBlock("view",{key:1,style:t.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--ios-H5"},[t.createElementVNode("image",{src:a.imgBase64,mode:"widthFix"},null,8,["src"])],4)):t.createCommentVNode("",!0),n.showText?(t.openBlock(),t.createElementBlock("text",{key:2,class:"uni-load-more__text",style:t.normalizeStyle({color:n.color})},t.toDisplayString("more"===n.status?o.contentdownText:"loading"===n.status?o.contentrefreshText:o.contentnomoreText),5)):t.createCommentVNode("",!0)])}],["__scopeId","data-v-49e7bbd0"]]);const M={__name:"yuansheng-loadmore",props:{loading:{type:Boolean,default:!1},pagination:{type:Object,default:{current:1,pageSize:10,total:0}}},emits:["clickLoadMore"],setup(e,{emit:i}){const n={contentdown:"加载更多",contentrefresh:"正在加载...",contentnomore:"没有更多了"};return(a,o)=>{const r=s(t.resolveDynamicComponent("uni-load-more"),D);return t.openBlock(),t.createBlock(r,{onClickLoadMore:o[0]||(o[0]=t=>i("clickLoadMore",t)),contentText:n,iconSize:14,status:e.loading?"loading":e.pagination.current*e.pagination.pageSize<e.pagination.total?"more":"no-more"},null,8,["status"])}}};
/*!
    * pinia v2.0.14
    * (c) 2022 Eduardo San Martin Morote
    * @license MIT
    */
let W;const E=t=>W=t,R=Symbol();function O(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var _,P;(P=_||(_={})).direct="direct",P.patchObject="patch object",P.patchFunction="patch function";const B="undefined"!=typeof window;function C(){const e=t.effectScope(!0),i=e.run((()=>t.ref({})));let n=[],s=[];const a=t.markRaw({install(t){E(a),a._a=t,t.provide(R,a),t.config.globalProperties.$pinia=a,s.forEach((t=>n.push(t))),s=[]},use(t){return this._a?n.push(t):s.push(t),this},_p:n,_a:null,_e:e,_s:new Map,state:i});return a}const L=()=>{};function N(e,i,n,s=L){e.push(i);const a=()=>{const t=e.indexOf(i);t>-1&&(e.splice(t,1),s())};return!n&&t.getCurrentInstance()&&t.onUnmounted(a),a}function j(t,...e){t.slice().forEach((t=>{t(...e)}))}function z(e,i){for(const n in i){if(!i.hasOwnProperty(n))continue;const s=i[n],a=e[n];O(a)&&O(s)&&e.hasOwnProperty(n)&&!t.isRef(s)&&!t.isReactive(s)?e[n]=z(a,s):e[n]=s}return e}const V=Symbol();const{assign:U}=Object;function $(e,i,n={},s,a,o){let r;const h=U({actions:{}},n),c={deep:!0};let l,u,d,p=t.markRaw([]),f=t.markRaw([]);const g=s.state.value[e];let m;function y(i){let n;l=u=!1,"function"==typeof i?(i(s.state.value[e]),n={type:_.patchFunction,storeId:e,events:d}):(z(s.state.value[e],i),n={type:_.patchObject,payload:i,storeId:e,events:d});const a=m=Symbol();t.nextTick().then((()=>{m===a&&(l=!0)})),u=!0,j(p,n,s.state.value[e])}o||g||(s.state.value[e]={}),t.ref({});const v=L;function w(t,i){return function(){E(s);const n=Array.from(arguments),a=[],o=[];function r(t){a.push(t)}function h(t){o.push(t)}let c;j(f,{args:n,name:t,store:x,after:r,onError:h});try{c=i.apply(this&&this.$id===e?this:x,n)}catch(l){throw j(o,l),l}return c instanceof Promise?c.then((t=>(j(a,t),t))).catch((t=>(j(o,t),Promise.reject(t)))):(j(a,c),c)}}const S={_p:s,$id:e,$onAction:N.bind(null,f),$patch:y,$reset:v,$subscribe(i,n={}){const a=N(p,i,n.detached,(()=>o())),o=r.run((()=>t.watch((()=>s.state.value[e]),(t=>{("sync"===n.flush?u:l)&&i({storeId:e,type:_.direct,events:d},t)}),U({},c,n))));return a},$dispose:function(){r.stop(),p=[],f=[],s._s.delete(e)}},x=t.reactive(U({},S));s._s.set(e,x);const b=s._e.run((()=>(r=t.effectScope(),r.run((()=>i())))));for(const k in b){const i=b[k];if(t.isRef(i)&&(T=i,!t.isRef(T)||!T.effect)||t.isReactive(i))o||(!g||O(I=i)&&I.hasOwnProperty(V)||(t.isRef(i)?i.value=g[k]:z(i,g[k])),s.state.value[e][k]=i);else if("function"==typeof i){const t=w(k,i);b[k]=t,h.actions[k]=i}}var I,T;return U(x,b),U(t.toRaw(x),b),Object.defineProperty(x,"$state",{get:()=>s.state.value[e],set:t=>{y((e=>{U(e,t)}))}}),s._p.forEach((t=>{U(x,r.run((()=>t({store:x,app:s._a,pinia:s,options:h}))))})),g&&o&&n.hydrate&&n.hydrate(x.$state,g),l=!0,u=!0,x}function Y(e,i,n){let s,a;const o="function"==typeof i;function r(e,n){const r=t.getCurrentInstance();(e=e||r&&t.inject(R))&&E(e),(e=W)._s.has(s)||(o?$(s,i,a,e):function(e,i,n,s){const{state:a,actions:o,getters:r}=i,h=n.state.value[e];let c;c=$(e,(function(){h||(n.state.value[e]=a?a():{});const i=t.toRefs(n.state.value[e]);return U(i,o,Object.keys(r||{}).reduce(((i,s)=>(i[s]=t.markRaw(t.computed((()=>{E(n);const t=n._s.get(e);return r[s].call(t,t)}))),i)),{}))}),i,n,0,!0),c.$reset=function(){const t=a?a():{};this.$patch((e=>{U(e,t)}))}}(s,a,e));return e._s.get(s)}return"string"==typeof e?(s=e,a=o?n:i):(a=e,s=e.id),r.$id=s,r}let G="Store";function F(t,e){return Array.isArray(e)?e.reduce(((e,i)=>(e[i]=function(){return t(this.$pinia)[i]},e)),{}):Object.keys(e).reduce(((i,n)=>(i[n]=function(){const i=t(this.$pinia),s=e[n];return"function"==typeof s?s.call(this,i):i[s]},i)),{})}const J=F;function Z(e){{e=t.toRaw(e);const i={};for(const n in e){const s=e[n];(t.isRef(s)||t.isReactive(s))&&(i[n]=t.toRef(e,n))}return i}}var Q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get MutationType(){return _},PiniaVuePlugin:function(t){t.mixin({beforeCreate(){const t=this.$options;if(t.pinia){const e=t.pinia;if(!this._provided){const t={};Object.defineProperty(this,"_provided",{get:()=>t,set:e=>Object.assign(t,e)})}this._provided[R]=e,this.$pinia||(this.$pinia=e),e._a=this,B&&E(e)}else!this.$pinia&&t.parent&&t.parent.$pinia&&(this.$pinia=t.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(t,e){return i=>{const n=e.data.pinia||t._pinia;if(n){e.data.pinia=n;for(const a in i){const o=i[a];if("function"==typeof(s=o)&&"string"==typeof s.$id&&n._s.has(o.$id)){const i=o.$id;if(i!==t.$id)return console.warn(`The id of the store changed from "${t.$id}" to "${i}". Reloading.`),e.invalidate();const s=n._s.get(i);if(!s)return void console.log("[Pinia]: skipping hmr because store doesn't exist yet");o(n,s)}}var s}}},createPinia:C,defineStore:Y,getActivePinia:()=>t.getCurrentInstance()&&t.inject(R)||W,mapActions:function(t,e){return Array.isArray(e)?e.reduce(((e,i)=>(e[i]=function(...e){return t(this.$pinia)[i](...e)},e)),{}):Object.keys(e).reduce(((i,n)=>(i[n]=function(...i){return t(this.$pinia)[e[n]](...i)},i)),{})},mapGetters:J,mapState:F,mapStores:function(...t){return t.reduce(((t,e)=>(t[e.$id+G]=function(){return e(this.$pinia)},t)),{})},mapWritableState:function(t,e){return Array.isArray(e)?e.reduce(((e,i)=>(e[i]={get(){return t(this.$pinia)[i]},set(e){return t(this.$pinia)[i]=e}},e)),{}):Object.keys(e).reduce(((i,n)=>(i[n]={get(){return t(this.$pinia)[e[n]]},set(i){return t(this.$pinia)[e[n]]=i}},i)),{})},setActivePinia:E,setMapStoreSuffix:function(t){G=t},skipHydrate:function(t){return Object.defineProperty(t,V,{})},storeToRefs:Z});const X=()=>{try{return uni.getStorageSync("token")}catch(t){}return null};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var q,K,tt={exports:{}},et={exports:{}};q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&K.rotl(t,8)|4278255360&K.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=K.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var n=t[i]<<16|t[i+1]<<8|t[i+2],s=0;s<4;s++)8*i+6*s<=8*t.length?e.push(q.charAt(n>>>6*(3-s)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,n=0;i<t.length;n=++i%4)0!=n&&e.push((q.indexOf(t.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|q.indexOf(t.charAt(i))>>>6-2*n);return e}},et.exports=K;var it={utf8:{stringToBytes:function(t){return it.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(it.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}},nt=it,st=function(t){return null!=t&&(at(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&at(t.slice(0,0))}(t)||!!t._isBuffer)};function at(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}!function(){var t=et.exports,e=nt.utf8,i=st,n=nt.bin,s=function(a,o){a.constructor==String?a=o&&"binary"===o.encoding?n.stringToBytes(a):e.stringToBytes(a):i(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||a.constructor===Uint8Array||(a=a.toString());for(var r=t.bytesToWords(a),h=8*a.length,c=1732584193,l=-271733879,u=-1732584194,d=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[h>>>5]|=128<<h%32,r[14+(h+64>>>9<<4)]=h;var f=s._ff,g=s._gg,m=s._hh,y=s._ii;for(p=0;p<r.length;p+=16){var v=c,w=l,S=u,x=d;c=f(c,l,u,d,r[p+0],7,-680876936),d=f(d,c,l,u,r[p+1],12,-389564586),u=f(u,d,c,l,r[p+2],17,606105819),l=f(l,u,d,c,r[p+3],22,-1044525330),c=f(c,l,u,d,r[p+4],7,-176418897),d=f(d,c,l,u,r[p+5],12,1200080426),u=f(u,d,c,l,r[p+6],17,-1473231341),l=f(l,u,d,c,r[p+7],22,-45705983),c=f(c,l,u,d,r[p+8],7,1770035416),d=f(d,c,l,u,r[p+9],12,-1958414417),u=f(u,d,c,l,r[p+10],17,-42063),l=f(l,u,d,c,r[p+11],22,-1990404162),c=f(c,l,u,d,r[p+12],7,1804603682),d=f(d,c,l,u,r[p+13],12,-40341101),u=f(u,d,c,l,r[p+14],17,-1502002290),c=g(c,l=f(l,u,d,c,r[p+15],22,1236535329),u,d,r[p+1],5,-165796510),d=g(d,c,l,u,r[p+6],9,-1069501632),u=g(u,d,c,l,r[p+11],14,643717713),l=g(l,u,d,c,r[p+0],20,-373897302),c=g(c,l,u,d,r[p+5],5,-701558691),d=g(d,c,l,u,r[p+10],9,38016083),u=g(u,d,c,l,r[p+15],14,-660478335),l=g(l,u,d,c,r[p+4],20,-405537848),c=g(c,l,u,d,r[p+9],5,568446438),d=g(d,c,l,u,r[p+14],9,-1019803690),u=g(u,d,c,l,r[p+3],14,-187363961),l=g(l,u,d,c,r[p+8],20,1163531501),c=g(c,l,u,d,r[p+13],5,-1444681467),d=g(d,c,l,u,r[p+2],9,-51403784),u=g(u,d,c,l,r[p+7],14,1735328473),c=m(c,l=g(l,u,d,c,r[p+12],20,-1926607734),u,d,r[p+5],4,-378558),d=m(d,c,l,u,r[p+8],11,-2022574463),u=m(u,d,c,l,r[p+11],16,1839030562),l=m(l,u,d,c,r[p+14],23,-35309556),c=m(c,l,u,d,r[p+1],4,-1530992060),d=m(d,c,l,u,r[p+4],11,1272893353),u=m(u,d,c,l,r[p+7],16,-155497632),l=m(l,u,d,c,r[p+10],23,-1094730640),c=m(c,l,u,d,r[p+13],4,681279174),d=m(d,c,l,u,r[p+0],11,-358537222),u=m(u,d,c,l,r[p+3],16,-722521979),l=m(l,u,d,c,r[p+6],23,76029189),c=m(c,l,u,d,r[p+9],4,-640364487),d=m(d,c,l,u,r[p+12],11,-421815835),u=m(u,d,c,l,r[p+15],16,530742520),c=y(c,l=m(l,u,d,c,r[p+2],23,-995338651),u,d,r[p+0],6,-198630844),d=y(d,c,l,u,r[p+7],10,1126891415),u=y(u,d,c,l,r[p+14],15,-1416354905),l=y(l,u,d,c,r[p+5],21,-57434055),c=y(c,l,u,d,r[p+12],6,1700485571),d=y(d,c,l,u,r[p+3],10,-1894986606),u=y(u,d,c,l,r[p+10],15,-1051523),l=y(l,u,d,c,r[p+1],21,-2054922799),c=y(c,l,u,d,r[p+8],6,1873313359),d=y(d,c,l,u,r[p+15],10,-30611744),u=y(u,d,c,l,r[p+6],15,-1560198380),l=y(l,u,d,c,r[p+13],21,1309151649),c=y(c,l,u,d,r[p+4],6,-145523070),d=y(d,c,l,u,r[p+11],10,-1120210379),u=y(u,d,c,l,r[p+2],15,718787259),l=y(l,u,d,c,r[p+9],21,-343485551),c=c+v>>>0,l=l+w>>>0,u=u+S>>>0,d=d+x>>>0}return t.endian([c,l,u,d])};s._ff=function(t,e,i,n,s,a,o){var r=t+(e&i|~e&n)+(s>>>0)+o;return(r<<a|r>>>32-a)+e},s._gg=function(t,e,i,n,s,a,o){var r=t+(e&n|i&~n)+(s>>>0)+o;return(r<<a|r>>>32-a)+e},s._hh=function(t,e,i,n,s,a,o){var r=t+(e^i^n)+(s>>>0)+o;return(r<<a|r>>>32-a)+e},s._ii=function(t,e,i,n,s,a,o){var r=t+(i^(e|~n))+(s>>>0)+o;return(r<<a|r>>>32-a)+e},s._blocksize=16,s._digestsize=16,tt.exports=function(e,i){if(null==e)throw new Error("Illegal argument "+e);var a=t.wordsToBytes(s(e,i));return i&&i.asBytes?a:i&&i.asString?n.bytesToString(a):t.bytesToHex(a)}}();var ot=tt.exports;let rt=!1;async function ht(t,{data:e,method:i,requestType:s}){Object.keys(e).forEach((t=>[void 0,null].includes(e[t])&&delete e[t])),"http"!=t.substr(0,4)&&(t="http://47.106.228.230:8080/yijie"+t),n("log","at utils/request.js:8",t,e);const a=(new Date).getTime(),o=Math.floor(100*Math.random());return await uni.request({url:t,data:e,method:(null==i?void 0:i.toUpperCase())||"GET",header:{"Content-Type":"json"==s?"application/json":"application/x-www-form-urlencoded",token:X()||"","api-version":1,timestamp:a,rand:o,apiSecret:ot(ot(a+"ccys"+o))}}).then((t=>{if(200==t.statusCode)return t.data;if(401==t.statusCode)throw uni.removeStorageSync("unionuser"),uni.removeStorageSync("token"),uni.hideLoading(),uni.hideToast(),rt||(rt=!0,uni.showModal({title:"注意",content:"您的登录信息已过期，请重新登录！",showCancel:!1,success:t=>{t.confirm&&(n("log","at utils/request.js:40","用户点击确定"),rt=!1)}})),t;rt||(rt=!0,uni.showModal({title:String(t.data.status),content:t.data.error,showCancel:!1,confirmText:"知道了",success:t=>{t.confirm&&(rt=!1)}}))})).catch((t=>{throw n("log","at utils/request.js:64",t,"catchRes"),rt||t.statusCode||(rt=!0,uni.showModal({title:"网络错误",content:"net::ERR_FAILED",showCancel:!1,confirmText:"知道了",success:t=>{t.confirm&&(rt=!1)}})),t}))}async function ct(t){return ht("/home/home",{data:t})}var lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",query:ct,queryGoodsList:async function(t){return ht("/goods/goodsZone",{data:t})},queryHotWordList:async function(t){return ht("/home/hotWord",{data:t})}}),ut=Y("home",{state:()=>({list:[],pagination:{current:1,pageSize:10,total:0}}),actions:{async query(t){this.pagination;const e=await ct(__spreadValues({},t));return 200==(null==e?void 0:e.code)&&(this.list=(null==t?void 0:t.pageNum)>1?this.list.concat(e.data.list):e.data.list,this.pagination={current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total}),e},service:async({payload:t,service:e})=>await lt[e](__spreadValues({},t))}});async function dt(t){return ht("/user/login",{data:t})}async function pt(t){return ht("/common/checkUpdate",{data:t})}var ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getSysParams:async function(t){return ht("/common/getCode",{data:t})},getTimestamp:async function(t){return ht("/user/getCurSysTimestamp",{data:t})},getMsgCode:async function(t){return ht("/user/msgCode",{data:t})},login:dt,feedback:async function(t){return ht("/user/feedback",{data:t,method:"POST"})},contact:async function(t){return ht("/user/staff",{data:t})},changePhone:async function(t){return ht("/user/updateAccount",{data:t,method:"POST"})},checkAndroidUpdate:pt}),gt=Y("global",{state:()=>({apkInfo:{},haveNew:!1}),actions:{async checkAndroidUpdate(t){const e=await pt(__spreadValues({},t));return e.id&&(this.apkInfo=e,plus.runtime.getProperty(plus.runtime.appid,(t=>{t.version!=e.newVersion&&(setTimeout((()=>uni.getSubNVueById("appUpdate").show()),500),this.haveNew=!0)}))),e}}});var mt=u({__name:"index",setup(e){const i=t=>{n("log","at pages/index.vue:27",t),a.value=t.path},a=t.ref("/static/tabbar/icon_home_click@2x.png"),r=ut(),{pagination:h,loading:u}=Z(r);return gt(),o((()=>{n("log","at pages/index.vue:37","onShow")})),c((()=>{n("log","at pages/index.vue:40","onLoad")})),l((()=>{h.value})),(e,n)=>{const o=s(t.resolveDynamicComponent("avatar-cropper"),p),r=s(t.resolveDynamicComponent("yuansheng-loadmore"),M);return t.openBlock(),t.createElementBlock("view",{class:"container"},[t.createTextVNode(" 12344444441111 "),t.createVNode(o,{selWidth:"600rpx",selHeight:"600rpx",stretch:"short",inner:!0,onUpload:i,avatarSrc:a.value,avatarStyle:"width: 200rpx; height: 200rpx; border-radius: 0;"},null,8,["avatarSrc"]),t.createVNode(r,{loading:t.unref(u),pagination:t.unref(h)},null,8,["loading","pagination"])])}}},[["__scopeId","data-v-1ea2f7ad"]]);var yt=u({},[["render",function(e,i){return t.openBlock(),t.createElementBlock("view",{class:"container"}," 2 ")}],["__scopeId","data-v-21295e05"]]);var vt=u({__name:"mine",setup:e=>(e,i)=>(t.openBlock(),t.createElementBlock("view",{class:"container"}," 3 "))},[["__scopeId","data-v-25952754"]]),wt=Y("sys",{actions:{async login(t){const e=await dt(__spreadValues({},t));return 200==(null==e?void 0:e.code)?((t=>{try{return uni.setStorageSync("unionuser",t)}catch(e){}})(e.data),(t=>{try{return uni.setStorageSync("token",t)}catch(e){}})(e.data.token),uni.navigateBack()):uni.showToast({title:e.msg,icon:"none",mask:!0}),e},service:async({payload:t,service:e})=>await ft[e](__spreadValues({},t))}});var St=u({__name:"privacy",setup(e){const i=wt(),n=t.ref(),s=t.computed((()=>{var t;return null==(t=n.value)?void 0:t.replace(/<p><\/p>/g,"<br/>").replace(/<img/g,'<img style="max-width:100%;display:block"')})),a=()=>{uni.navigateBack()};return c((()=>{i.service({service:"getSysParams",payload:{id:"privacyProtocol"}}).then((t=>{200==t.code&&(n.value=t.data.codeValue)}))})),(e,i)=>(t.openBlock(),t.createElementBlock("view",{class:"container"},[t.createElementVNode("view",{class:"contentWrap"},[t.createElementVNode("view",{class:"title"},"用户协议和隐私政策"),t.createElementVNode("view",{class:"content"},[t.createElementVNode("rich-text",{nodes:t.unref(s)},null,8,["nodes"])]),t.createElementVNode("view",{class:"closeBtn",onClick:a},"确定")])]))}},[["__scopeId","data-v-50776aee"]]);var xt=u({__name:"richText",setup(e){const i=wt(),n=t.ref("");return c((async({key:e})=>{if(e){switch(e){case"0":uni.setNavigationBarTitle({title:"用户协议"});break;case"1":uni.setNavigationBarTitle({title:"隐私政策"});break;case"2":uni.setNavigationBarTitle({title:"关于我们"})}uni.showLoading();const t=await i.service({service:"getSysParams",payload:{key:e}});uni.hideLoading(),200==t.code&&(n.value=t.data.codeValue.replace(/<p><\/p>/g,"<br/>").replace(/<img/g,'<img style="max-width:100%;display:block"'))}else{const{ctx:e}=t.getCurrentInstance();e.getOpenerEventChannel().once("transportRichText",(t=>{n.value=null==t?void 0:t.replace(/<p><\/p>/g,"<br/>").replace(/<img/g,'<img style="max-width:100%;display:block"')}))}})),(e,i)=>(t.openBlock(),t.createElementBlock("view",{class:"container"},[t.createElementVNode("rich-text",{nodes:n.value,space:"nbsp"},null,8,["nodes"])]))}},[["__scopeId","data-v-d68c2fa4"]]);__definePage("pages/index",mt),__definePage("pages/drive",yt),__definePage("pages/mine",vt),__definePage("platforms/app-plus/android/privacy",St),__definePage("pages/richText",xt);const bt={__name:"App",setup:t=>(h((()=>{n("log","at App.vue:6","App Launch");const t=i("JG-JPush");null==t||t.initJPushService(),null==t||t.setLoggerEnable(!0),null==t||t.addConnectEventListener((e=>{let i=e.connectEnable;n("log","at App.vue:38",e,plus.os.name),1==i?(n("log","at App.vue:40","已连接"),t.setAlias({alias:plus.os.name,sequence:1})):n("log","at App.vue:50","未连接")})),null==t||t.addNotificationListener((t=>{const e=t.notificationEventType;t.messageID,t.title,t.content,t.extras,n("log","at App.vue:62",e),uni.showToast({icon:"none",title:JSON.stringify(t),duration:3e3})}))})),o((()=>{n("log","at App.vue:72","App Show");const t=i("JG-JPush");null==t||t.setBadge(0),plus.runtime.setBadgeNumber(0)})),r((()=>{n("log","at App.vue:80","App Hide")})),()=>{})};var It={exports:{}};It.exports=function(){var t=1e3,e=6e4,i=36e5,n="millisecond",s="second",a="minute",o="hour",r="day",h="week",c="month",l="quarter",u="year",d="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,i){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(i)+t},v={s:y,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),n=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+y(n,2,"0")+":"+y(s,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var n=12*(i.year()-e.year())+(i.month()-e.month()),s=e.clone().add(n,c),a=i-s<0,o=e.clone().add(n+(a?-1:1),c);return+(-(n+(i-s)/(a?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:u,w:h,d:r,D:d,h:o,m:a,s:s,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",S={};S[w]=m;var x=function(t){return t instanceof k},b=function t(e,i,n){var s;if(!e)return w;if("string"==typeof e){var a=e.toLowerCase();S[a]&&(s=a),i&&(S[a]=i,s=a);var o=e.split("-");if(!s&&o.length>1)return t(o[0])}else{var r=e.name;S[r]=e,s=r}return!n&&s&&(w=s),s||!n&&w},I=function(t,e){if(x(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new k(i)},T=v;T.l=b,T.i=x,T.w=function(t,e){return I(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function m(t){this.$L=b(t.locale,null,!0),this.parse(t)}var y=m.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var s=n[2]-1||0,a=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return T},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var i=I(t);return this.startOf(e)<=i&&i<=this.endOf(e)},y.isAfter=function(t,e){return I(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<I(t)},y.$g=function(t,e,i){return T.u(t)?this[e]:this.set(i,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var i=this,n=!!T.u(e)||e,l=T.p(t),p=function(t,e){var s=T.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return n?s:s.endOf(r)},f=function(t,e){return T.w(i.toDate()[t].apply(i.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case u:return n?p(1,0):p(31,11);case c:return n?p(1,m):p(0,m+1);case h:var w=this.$locale().weekStart||0,S=(g<w?g+7:g)-w;return p(n?y-S:y+(6-S),m);case r:case d:return f(v+"Hours",0);case o:return f(v+"Minutes",1);case a:return f(v+"Seconds",2);case s:return f(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var i,h=T.p(t),l="set"+(this.$u?"UTC":""),p=(i={},i[r]=l+"Date",i[d]=l+"Date",i[c]=l+"Month",i[u]=l+"FullYear",i[o]=l+"Hours",i[a]=l+"Minutes",i[s]=l+"Seconds",i[n]=l+"Milliseconds",i)[h],f=h===r?this.$D+(e-this.$W):e;if(h===c||h===u){var g=this.clone().set(d,1);g.$d[p](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[T.p(t)]()},y.add=function(n,l){var d,p=this;n=Number(n);var f=T.p(l),g=function(t){var e=I(p);return T.w(e.date(e.date()+Math.round(t*n)),p)};if(f===c)return this.set(c,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===r)return g(1);if(f===h)return g(7);var m=(d={},d[a]=e,d[o]=i,d[s]=t,d)[f]||1,y=this.$d.getTime()+n*m;return T.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var n=t||"YYYY-MM-DDTHH:mm:ssZ",s=T.z(this),a=this.$H,o=this.$m,r=this.$M,h=i.weekdays,c=i.months,l=function(t,i,s,a){return t&&(t[i]||t(e,n))||s[i].slice(0,a)},u=function(t){return T.s(a%12||12,t,"0")},d=i.meridiem||function(t,e,i){var n=t<12?"AM":"PM";return i?n.toLowerCase():n},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:T.s(r+1,2,"0"),MMM:l(i.monthsShort,r,c,3),MMMM:l(c,r),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,h,2),ddd:l(i.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(a),HH:T.s(a,2,"0"),h:u(1),hh:u(2),a:d(a,o,!0),A:d(a,o,!1),m:String(o),mm:T.s(o,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:s};return n.replace(g,(function(t,e){return e||f[t]||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,d,p){var f,g=T.p(d),m=I(n),y=(m.utcOffset()-this.utcOffset())*e,v=this-m,w=T.m(this,m);return w=(f={},f[u]=w/12,f[c]=w,f[l]=w/3,f[h]=(v-y)/6048e5,f[r]=(v-y)/864e5,f[o]=v/i,f[a]=v/e,f[s]=v/t,f)[g]||v,p?w:T.a(w)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return S[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),n=b(t,e,!0);return n&&(i.$L=n),i},y.clone=function(){return T.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),A=k.prototype;return I.prototype=A,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",r],["$M",c],["$y",u],["$D",d]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),I.extend=function(t,e){return t.$i||(t(e,k,I),t.$i=!0),I},I.locale=b,I.isDayjs=x,I.unix=function(t){return I(1e3*t)},I.en=S[w],I.Ls=S,I.p={},I}();var Tt=It.exports;const kt=t.createVueApp(bt),At=C();At.use((({store:e})=>{const i=t.ref(!1);e.loading=i,e.$subscribe((()=>{})),e.$onAction((({name:t,store:e,args:s,after:a,onError:o})=>{i.value=!0,a((()=>{i.value=!1})),o((t=>{n("log","at stores/pinia-loading.js:29","错误捕获",t)}))}))})),kt.use(At),kt.config.globalProperties.$isLogin=()=>{if(!(()=>{try{return uni.getStorageSync("unionuser")}catch(t){}return null})())return uni.showModal({title:"温馨提示",content:"请先登录/注册！",confirmText:"确定",success:t=>{t.confirm&&uni.navigateTo({url:"/pages/login"})}}),!0},kt.config.globalProperties.$format=(t,e="YYYY-MM-DD")=>t?Tt(t).format(e):"",kt.config.globalProperties.$distance=t=>Number(t)>1e3?(Number(t)/1e3).toFixed(2)+"km":Number(t)+"m",kt.config.globalProperties.$decimal=(t,e=2)=>Number(t).toFixed(e);const{app:Ht,Vuex:Dt,Pinia:Mt}={app:kt,Pinia:Q};uni.Vuex=Dt,uni.Pinia=Mt,Ht.provide("__globalStyles",__uniConfig.styles),Ht._component.mpType="app",Ht._component.render=()=>{},Ht.mount("#app")}(Vue,uni.VueShared);
